// Imports

var tracker = import My/Lib/Ranged_Debuffing/public
var log = import My/Lib/Error_Logging/public

// ****************************************** //

// Procedure:

// Call every frame
tracker.track()

?pickup.distance < 15
  equipL triskelion
  equipR star

:?foe.distance > 20 | !ai.enabled | ai.paused
  equipL triskelion
  equipR shield compound *max

/**/ // Group debuffing
:?tracker.canTrack("Weaken") |
^tracker.canTrack("Burn")
  equipL *max wand dP -hidden
  equipR *max wand dF -hidden
:?tracker.canTrack("Chill")
  equipL *max wand dI hidden
  equipR *max wand dI -hidden
/**/

/* // Individual debuffing
:?tracker.canTrack("Weaken")
  equipL moon
  equipR *max wand dP -hidden
:?tracker.canTrack("Chill")
  equipL moon
  equipR *max wand dI -hidden
:?tracker.canTrack("Burn")
  equipL moon
  equipR *max wand dF -hidden
*/
:
  equip *max crossbow repeating

// ****************************************** //

// Monitor for debug
>`1,7,#cyan,@tracker.toStr()@

// show any logged errors
?log.hasErrors()
  >`1,@screen.h/2@,#ff0000,errorCount: @log.getErrorCount()@
  >`1,@screen.h - 2 - 4@,#ff0000,@log.getError()@